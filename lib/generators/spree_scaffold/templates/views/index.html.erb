- content_for :page_title do
  = Spree.t(:listing_<%= plural_name %>)

- content_for :page_actions do
  - if can?(:create, Spree::<%= class_name %>)
    = button_link_to Spree.t(:new_<%= singular_name %>), new_object_url, class: 'btn-success', icon: 'add', id: 'admin_new_<%= singular_name %>_link'

<% if sortable? %>
%table.table.sortable#listing_<%= plural_name %>{'data-hook': '', 'data-sortable-link': "<%%= <%= "update_positions_admin_#{plural_name}_url" %> %>"}
<% else %>
%table.table#listing_<%= plural_name %>{'data-hook': ''}>
<% end %>

  %thead
    %tr{'data-hook': "admin_<%= plural_name %>_index_headers"}
      <% if sortable? %>
        %th.no-border
      <% end %>
      %th
        = t(:<%= attributes.first.name %>, scope: 'activerecord.attributes.spree/<%= singular_name %>')
      %th.actions{'data-hook': "admin_<%= plural_name %>_index_header_actions"}


  %tbody
    - @<%= plural_name %>.each do |<%= singular_name %>|
      %tr{'class': "#{cycle('odd', 'even')}",'data-hook': "admin_<%= plural_name %>_index_rows"}
        <% if sortable? %>
          %td.move-handle
            %span.icon.icon-move.handle
        <% end %>

        %td
          = link_to <%= singular_name %>.<%= attributes.first.name %>, edit_object_url(<%= singular_name %>)
        %td.actions.text-right{'data-hook': "admin_<%= plural_name %>_index_row_actions"}
          = link_to_edit <%= singular_name %>, no_text: true
          = link_to_delete <%= singular_name %>, no_text: true
          <%% if i18n? %>
            = link_to_with_icon 'translate', nil, admin_translations_path(:<%= plural_name %>, <%= singular_name %>.id), title: Spree.t(:'i18n.translations'), class: 'btn btn-sm btn-primary'
          <%% end %>

= paginate @<%= plural_name %>
